import{f as me,r as l,a as k,j as i,b as e,G as he,A as Q,L as ge,F as Y,N as fe,E as Se,P as pe,D as _e,V as ve,c as $,d as M,e as j,g as q,h as Ne,R as xe,U as Ce,i as Be,k as R,l as Ee,S as y,C as Z,m as ee,n as te,o as ne,p as we,q as Fe,s as Ae,t as ie,u as se,v as ke,w as ae,x as ce,y as Ie,z as De}from"./vendor.1ba5754a.js";const be=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))g(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const S of r.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&g(S)}).observe(document,{childList:!0,subtree:!0});function d(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function g(o){if(o.ep)return;o.ep=!0;const r=d(o);fetch(o.href,r)}};be();const Pe="_nav_11k4b_2",ye="_title_11k4b_12",Le="_subTitle_11k4b_20",ze="_main_11k4b_29",Te="_gameList_11k4b_33",Ge="_singleGameEntryButton_11k4b_39",Oe="_buttonIcon_11k4b_54",$e="_addIcon_11k4b_58",Me="_createPanel_11k4b_65",je="_createPanelTitle_11k4b_75",qe="_createPanelInput_11k4b_81",Re="_createButton_11k4b_87";var I={nav:Pe,title:ye,subTitle:Le,main:ze,gameList:Te,singleGameEntryButton:Ge,buttonIcon:Oe,addIcon:$e,createPanel:Me,createPanelTitle:je,createPanelInput:qe,createButton:Re};const c=new me;c.set("updateEditor",!0);const oe={editorTag:"\u6E38\u620F\u914D\u7F6E",domain:"",gameList:[],currentEditGame:"",currentGameConfig:{},currentDir:"",currentDirContent:[],currentEditScene:"",currentOpendSceneEdit:[],currentSceneSentenceList:[],sceneScrollTop:{},isRealtimeRefreashPreview:!0},n=JSON.parse(JSON.stringify(oe)),Ue=()=>{const[t,a]=l.exports.useState(!0),[d,g]=l.exports.useState(!1);l.exports.useEffect(()=>{c.set("refManagement",t),c.connect("refManagement",()=>{a(c.get("refManagement"))},"refManagementFunc"),o()},[]);const o=()=>{k.get(n.domain+"/api/manageGame/gameList").then(m=>{n.gameList=m.data,c.set("refManagement",!c.get("refManagement"))}).catch(m=>{console.log(m)})};let r=[];for(const m of n.gameList){const f=i("div",{className:I.singleGameEntryButton,onClick:()=>{for(const v in n)n[v]=oe[v];n.currentEditGame=m,c.set("isManagement",!1)},children:[e(he,{theme:"outline",size:"24",fill:"#333",className:I.buttonIcon}),m]},m);r.push(f)}const S=m=>{const f=`${n.domain}/api/manageGame/createGame/${m}`;k.get(f).then(v=>{g(!1),o()})};return i("div",{children:[e("header",{children:e("nav",{children:e("div",{className:I.nav,children:e("div",{className:I.title,children:"WebGAL ORIGINE"})})})}),i("main",{className:I.main,children:[i("div",{className:I.subTitle,children:["\u6E38\u620F\u5217\u8868",i("span",{onClick:()=>g(!d),className:I.addIcon,children:[e(Q,{theme:"outline",size:"18",fill:"#8E354A"})," \u65B0\u5EFA\u6E38\u620F"]}),d&&i("div",{className:I.createPanel,children:[e("div",{className:I.createPanelTitle,children:"\u521B\u5EFA\u6E38\u620F"}),i("div",{children:["\u6E38\u620F\u540D\u79F0\uFF1A",e("input",{id:"createInput",className:I.createPanelInput})]}),e("div",{style:{textAlign:"center"},children:e("div",{onClick:()=>S(document.getElementById("createInput").value),className:I.createButton,children:"\u521B\u5EFA"})})]})]}),e("div",{className:I.gameList,children:r})]})]})},We="_nav_19575_1",Ve="_title_19575_14",Je="_titleIcon_19575_22";var U={nav:We,title:Ve,titleIcon:Je};const Ke=()=>i("div",{className:U.nav,children:[e(ge,{theme:"filled",size:"30",fill:"#333",className:U.titleIcon,onClick:()=>{c.set("isManagement",!0)}}),e("div",{className:U.title,children:"WebGAL ORIGINE"})]}),Xe="_aside_1ixa6_1",He="_option_1ixa6_11",Qe="_optionMarker_1ixa6_23",Ye="_optionMarkerOff_1ixa6_31",Ze="_chooseItem_1ixa6_39",et="_chooseTitle_1ixa6_50",tt="_chooseDescription_1ixa6_55",nt="_tagButton_1ixa6_60",it="_tagButtonOn_1ixa6_74",st="_sideBarContent_1ixa6_80",at="_previewWindow_1ixa6_87",ct="_sideBarMain_1ixa6_92",ot="_asidePreviewControlBar_1ixa6_101",dt="_asidePreviewControlBar_button_1ixa6_109",lt="_asidePreviewControlBar_single_1ixa6_122";var A={aside:Xe,option:He,optionMarker:Qe,optionMarkerOff:Ye,chooseItem:Ze,chooseTitle:et,chooseDescription:tt,tagButton:nt,tagButtonOn:it,sideBarContent:st,previewWindow:at,sideBarMain:ct,asidePreviewControlBar:ot,asidePreviewControlBar_button:dt,asidePreviewControlBar_single:lt};const rt="_title_kvvvo_1",ut="_previewGameButton_kvvvo_10",mt="_gameNameInput_kvvvo_20";var z={title:rt,previewGameButton:ut,gameNameInput:mt};const ht="_choosed_imeie_1",gt="_chooseBox_imeie_7",ft="_chooseIcon_imeie_11",St="_fileList_imeie_26",pt="_singleFile_imeie_38",_t="_fileIcon_imeie_49";var L={choosed:ht,chooseBox:gt,chooseIcon:ft,fileList:St,singleFile:pt,fileIcon:_t};const D=t=>{const[a,d]=l.exports.useState(!1),[g,o]=l.exports.useState(t.dir),[r,S]=l.exports.useState([]),[m,f]=l.exports.useState(""),v=u=>{const B={dir:`/${n.currentEditGame}/game/${u}`};k.post(`${n.domain}/api/editGame/getAssets/`,B).then(C=>{S(C.data)}).catch(C=>{console.log(C)})},N=u=>{let h=u.split("/");u="";let B=0;for(const C of h)C!==t.dir&&(B!==0&&(u=u+"/"),B++,u=u+C);return u},p=u=>{let h=g+"/"+u;h=N(h),t.set(h),t.hasOwnProperty("setShow")&&t.setShow(h)};l.exports.useEffect(()=>{v(g)},[]);let _=[];for(const u of r){let h=!0,B=!0;u.match(/\.json/)&&(B=!1),u.match(/\./)&&(h=!1);let C=e("div",{children:""});h?C=i("div",{className:L.singleFile,onClick:()=>{const F=g+"/"+u;o(F),v(F)},children:[e(Y,{theme:"outline",size:"18",fill:"#333",className:L.fileIcon}),u]},u):C=i("div",{className:L.singleFile,onClick:()=>{f(N(g+"/"+u)),p(u),d(!a)},children:[e(fe,{theme:"outline",size:"18",fill:"#333",className:L.fileIcon}),u]},u),B&&_.push(C)}return i("div",{children:[e("div",{className:L.chooseBox,children:i("div",{className:L.chooseIcon,onClick:()=>{a===!1&&(o(t.dir),f(""),v(t.dir)),d(!a)},children:[e(Se,{theme:"outline",size:"16",fill:"#333"})," \u9009\u62E9\u6587\u4EF6"]})}),e("div",{style:{position:"relative"},children:a&&e("div",{className:L.fileList,children:_})})]})},vt=()=>{l.exports.useState(!1);const[t,a]=l.exports.useState(""),[d,g]=l.exports.useState(""),[o,r]=l.exports.useState(""),S=()=>{k.get(`${n.domain}/Games/${n.currentEditGame}/game/gameConfig.json`).then(p=>{let _=p.data;n.currentGameConfig=p.data,document.getElementById("gameNameInput").value=_.Game_name,a(_.Title_bgm),g(_.Title_img),r(_.Loading_img)})},m=()=>{n.currentGameConfig.Game_name=document.getElementById("gameNameInput").value,N()},f=(p,_)=>{n.currentGameConfig[p]=_,N()},v=p=>_=>{f(p,_)},N=()=>{let p={currentEditGame:n.currentEditGame,config:n.currentGameConfig};k.post(`${n.domain}/api/manageGame/config`,p).then(_=>{})};return l.exports.useEffect(()=>{S()},[]),i("div",{style:{width:"100%"},children:[e("div",{children:e("a",{style:{color:"black",textDecoration:"none"},href:`${n.domain}/Games/${n.currentEditGame}`,target:"_blank",children:i("div",{className:z.previewGameButton,children:[e(pe,{theme:"outline",size:"28",fill:"#FFF",style:{padding:"0 5px 0 0",transform:"translate(0,5px)"}}),"\u5728\u65B0\u6807\u7B7E\u9875\u9884\u89C8\u6E38\u620F"]})})}),i("div",{children:[e("div",{className:z.title,children:"\u6E38\u620F\u540D\u79F0"}),e("div",{children:e("input",{onBlur:m,id:"gameNameInput",className:z.gameNameInput})})]}),i("div",{children:[e("div",{className:z.title,children:"\u6807\u9898\u80CC\u666F\u97F3\u4E50"}),i("div",{children:[t,e(D,{setShow:a,id:"bgmPicker",dir:"bgm",set:v("Title_bgm")})]})]}),i("div",{children:[e("div",{className:z.title,children:"\u6807\u9898\u80CC\u666F"}),i("div",{children:[d,e(D,{setShow:g,id:"bgPicker",dir:"background",set:v("Title_img")})]})]})]})},Nt="_dirButtonContainer_iqtdj_2",xt="_icon_small_iqtdj_8",Ct="_controlPanel_iqtdj_15",Bt="_upload_iqtdj_19",Et="_dirButton_iqtdj_2",wt="_fileElement_iqtdj_41",Ft="_title_iqtdj_58",At="_currentDirShow_iqtdj_68",kt="_panelButton_iqtdj_78",It="_uploadTitle_iqtdj_90",Dt="_uploadButton_iqtdj_98";var E={dirButtonContainer:Nt,icon_small:xt,controlPanel:Ct,upload:Bt,dirButton:Et,fileElement:wt,title:Ft,currentDirShow:At,panelButton:kt,uploadTitle:It,uploadButton:Dt};const de={background:"\u80CC\u666F",bgm:"\u97F3\u4E50",figure:"\u7ACB\u7ED8",video:"\u89C6\u9891",vocal:"\u8BED\u97F3"},le=t=>{let a=e(Y,{theme:"outline",size:"22",fill:"#333"});switch(t.icon){case"background":a=e(q,{theme:"outline",size:"22",fill:"#333"});break;case"bgm":a=e(j,{theme:"outline",size:"22",fill:"#333"});break;case"figure":a=e(M,{theme:"outline",size:"22",fill:"#333"});break;case"video":a=e($,{theme:"outline",size:"22",fill:"#333"});break;case"vocal":a=e(ve,{theme:"outline",size:"22",fill:"#333"});break;case"file":a=e(_e,{theme:"outline",size:"22",fill:"#333"})}return a},bt=()=>{const[t,a]=l.exports.useState(!0),[d,g]=l.exports.useState(!1),[o,r]=l.exports.useState(!1);l.exports.useEffect(()=>{c.set("refAssetsManagement",t),c.connect("refAssetsManagement",()=>{a(c.get("refAssetsManagement"))},"refAssetsManagement"),S()},[]);const S=()=>{const h=n.currentEditGame,B=n.currentDir,C={dir:`/${h}/game/${B}`};k.post(`${n.domain}/api/editGame/getAssets/`,C).then(F=>{n.currentDirContent=F.data,c.set("refAssetsManagement",!c.get("refAssetsManagement"))}).catch(F=>{console.log(F)})},m=()=>{if(n.currentDir==="")return;let h=n.currentDir.split("/");h.pop(),n.currentDir=h.reduce((B,C)=>""+B+"/"+C),S()},f=h=>{n.currentDir=n.currentDir+`/${h}`,S()},v=()=>{const h=n.currentEditGame,B=n.currentDir,C=`/${h}/game/${B}`;let F=new FormData;F.append("dir",C);const O=document.getElementById("uploadFile").files[0];let T=document.getElementById("uploadFile").value;F.append("file",O,T),k.post(`${n.domain}/api/editGame/addAsset/`,F,{headers:{"Content-Type":"multipart/form-data"}}).then(H=>{g(!1),S()}).catch(H=>{console.log(H)})},N=()=>{const h=n.currentEditGame,B=n.currentDir,C=`/${h}/game/${B}`,F=document.getElementById("addDirInput").value,O={current:C,Name:F};k.post(`${n.domain}/api/editGame/mkdir/`,O).then(T=>{r(!1),S()}).catch(T=>{console.log(T)})},p=()=>{g(!d)},_=()=>{r(!o)},u=[];for(const h of n.currentDirContent){let B="",C=!0;if(h.match(/\./))n.currentDir===""&&(C=!1),B=i("div",{className:E.fileElement,children:[e("span",{className:E.icon_small,children:e(le,{icon:"file"})}),h]},h);else{let F=h;n.currentDir===""&&de.hasOwnProperty(h)&&(F=de[h]),B=i("div",{className:E.dirButton,onClick:()=>f(h),children:[e("span",{className:E.icon_small,children:e(le,{icon:h})}),F]},h),h==="scene"&&n.currentDir===""&&(C=!1)}C&&u.push(B)}return i(Ne,{children:[n.currentDir!==""&&e("div",{className:E.currentDirShow,children:n.currentDir}),n.currentDir!==""&&i("div",{className:E.controlPanel,children:[e("div",{children:e(xe,{theme:"outline",size:"24",fill:"#333",onClick:m,className:E.panelButton})}),i("div",{children:[e(Ce,{theme:"outline",size:"24",fill:"#333",onClick:p,className:E.panelButton}),d&&i("div",{className:E.upload,children:[e("div",{className:E.uploadTitle,children:"\u4E0A\u4F20\u6587\u4EF6"}),e("input",{id:"uploadFile",type:"file"}),e("div",{className:E.uploadButton,onClick:v,children:"\u4E0A\u4F20"})]})]}),i("div",{children:[e(Be,{theme:"outline",size:"24",fill:"#333",onClick:_,className:E.panelButton}),o&&i("div",{className:E.upload,children:[e("div",{className:E.uploadTitle,children:"\u65B0\u5EFA\u6587\u4EF6\u5939"}),e("input",{id:"addDirInput"}),e("div",{className:E.uploadButton,onClick:N,children:"\u65B0\u5EFA"})]})]})]}),e("div",{}),e("div",{className:E.dirButtonContainer,children:u})]})},Pt="_main_1dzb8_1",yt="_addInput_1dzb8_12",Lt="_title_1dzb8_20",zt="_addButton_1dzb8_26";var G={main:Pt,addInput:yt,title:Lt,addButton:zt};const Tt=t=>{const a=()=>{const d={gameName:n.currentEditGame,sceneName:document.getElementById("addSceneName").value};k.post(`${n.domain}/api/editGame/addNewScene/`,d).then(g=>{t.added()}).catch(g=>{console.log(g)})};return i("div",{className:G.main,children:[i("div",{className:G.title,children:["\u573A\u666F\u540D\u79F0\uFF1A",e("input",{className:G.addInput,id:"addSceneName"})]}),e("div",{className:G.addButton,onClick:a,children:"\u65B0\u5EFA\u573A\u666F"})]})},Gt="_titleText_1j8ez_1",Ot="_scene_1j8ez_11",$t="_newSceneButton_1j8ez_22",Mt="_sceneList_1j8ez_30";var W={titleText:Gt,scene:Ot,newSceneButton:$t,sceneList:Mt};const V=()=>{n.currentEditScene!==""&&(n.sceneScrollTop[n.currentEditScene]=document.getElementById("currentSentenceList").scrollTop)},jt=()=>{const[t,a]=l.exports.useState([]),[d,g]=l.exports.useState(!1),o=()=>{const N={dir:`/${n.currentEditGame}/game/scene`};k.post(`${n.domain}/api/editGame/getAssets/`,N).then(p=>{a(p.data)}).catch(p=>{console.log(p)})},r=()=>{o(),g(!d)};l.exports.useEffect(()=>{o()},[]);const S=f=>{n.currentOpendSceneEdit.includes(f)||n.currentOpendSceneEdit.push(f),V(),n.currentEditScene=f,c.set("updateEditor",!c.get("updateEditor"))},m=[];for(const f of t){let v=!1,N=f.split(".");N[N.length-1]==="json"&&(v=!0);const p=i("div",{className:W.scene,onClick:()=>S(f),children:[e(R,{theme:"outline",size:"16",fill:"#333",style:{padding:"0 5px 0 0"}}),f]},f);v&&m.push(p)}return i("div",{style:{width:"100%"},children:[i("div",{className:W.newSceneButton,onClick:()=>{g(!d)},children:[e(Q,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0",transform:"translate(0,2px)"}}),"\u65B0\u5EFA\u573A\u666F"]}),e("div",{children:d&&e(Tt,{added:r})}),e("div",{className:W.sceneList,children:m})]})},qt=()=>{const t=["\u6E38\u620F\u914D\u7F6E","\u7D20\u6750\u7BA1\u7406","\u573A\u666F\u7BA1\u7406"],[a,d]=l.exports.useState(!1);l.exports.useEffect(()=>{c.set("refSideBar",a),c.connect("refSideBar",()=>{d(c.get("refSideBar"))},"refSideBarFunc")},[]);const g=[];for(const m of t){m===n.editorTag?A.optionMarker:A.optionMarkerOff;const f=e("div",{className:m===n.editorTag?A.tagButton+" "+A.tagButtonOn:A.tagButton,onClick:()=>{n.editorTag=m,c.set("refSideBar",!c.get("refSideBar"))},children:e("div",{children:m})},m);g.push(f)}let o;switch(n.editorTag){case"\u6E38\u620F\u914D\u7F6E":o=e(vt,{});break;case"\u7D20\u6750\u7BA1\u7406":o=e(bt,{});break;case"\u573A\u666F\u7BA1\u7406":o=e(jt,{});break}function r(m){n.isRealtimeRefreashPreview=m}function S(){const m=document.getElementById("gamePreviewIframe");m.src="",m.src=`${n.domain}/Games/${n.currentEditGame}`}return i("aside",{className:A.aside,children:[i("div",{className:A.asidePreviewControlBar,children:[e("div",{className:A.asidePreviewControlBar_single,children:e("span",{style:{fontSize:"large",fontWeight:"bold",color:"#8E354A"},children:"\u6E38\u620F\u9884\u89C8"})}),i("div",{id:"refPreviewButton",className:A.asidePreviewControlBar_button,onClick:S,children:[e(Ee,{style:{transform:"translate(0,0)",margin:"0 3px 0 0 "},theme:"outline",size:"16",fill:"#000",strokeWidth:3}),"\u5237\u65B0"]}),i("div",{className:A.asidePreviewControlBar_single,children:["\u5B9E\u65F6\u66F4\u65B0",e("span",{style:{margin:"0 10px 0 0 "}}),e(y,{defaultChecked:!0,onChange:r,size:"small"})]})]}),e("iframe",{id:"gamePreviewIframe",frameBorder:"0",className:A.previewWindow,src:`${n.domain}/Games/${n.currentEditGame}`}),i("div",{className:A.sideBarMain,children:[e("div",{className:A.option,children:g}),e("div",{className:A.sideBarContent,children:o})]})]})},Rt="_main_r7n8t_1";var Ut={main:Rt};const Wt="_main_do9qz_1",Vt="_tag_do9qz_8",Jt="_tagOpened_do9qz_18",Kt="_tagList_do9qz_25",Xt="_tagIcon_do9qz_29",Ht="_closeIcon_do9qz_34";var b={main:Wt,tag:Vt,tagOpened:Jt,tagList:Kt,tagIcon:Xt,closeIcon:Ht};const Qt="_topButtonList_k9m8n_1",Yt="_topButton_k9m8n_1",Zt="_addSentencePanel_k9m8n_23",en="_addSentenceButton_k9m8n_32",tn="_sentenceList_k9m8n_42",nn="_sentence_k9m8n_42",sn="_sentenceIn_k9m8n_1",an="_lineNumber_k9m8n_55",cn="_sentenceMain_k9m8n_65";var x={topButtonList:Qt,topButton:Yt,addSentencePanel:Zt,addSentenceButton:en,sentenceList:tn,sentence:nn,sentenceIn:sn,lineNumber:an,sentenceMain:cn};const on=t=>{let a;switch(t){case"dialog":a={type:t,speaker:"",content:"",vocal:"",ignoreSpeaker:!1};break;case"bg":a={type:t,bg:"",noBg:!1,next:!1};break;case"bgm":a={type:t,bgm:"",noBgm:!1};break;case"changeScene":a={type:t,newScene:""};break;case"video":a={type:t,video:""};break;case"changeP":a={type:t,newP:"",next:!1,noP:!1,pos:""};break;case"choose":a={type:t,chooseItem:[{text:"\u5728\u6B64\u586B\u5165\u5206\u652F\u7684\u540D\u79F0",scene:""},{text:"\u5728\u6B64\u586B\u5165\u5206\u652F\u7684\u540D\u79F0",scene:""}]};break;case"intro":a={type:t,content:[]};break}return a},dn="_sentence_f5m1c_1",ln="_dialog_input_f5m1c_7",rn="_singleOption_f5m1c_15",un="_optionTitle_f5m1c_23",mn="_optionContent_f5m1c_31",hn="_isolate_f5m1c_35",gn="_sentenceButtonList_f5m1c_40",fn="_sentenceButton_f5m1c_40",Sn="_sentenceIndexShow_f5m1c_60",pn="_barContainer_f5m1c_74",_n="_mainEdit_f5m1c_84",vn="_topContainer_f5m1c_92";var s={sentence:dn,dialog_input:ln,singleOption:rn,optionTitle:un,optionContent:mn,isolate:hn,sentenceButtonList:gn,sentenceButton:fn,sentenceIndexShow:Sn,barContainer:pn,mainEdit:_n,topContainer:vn};const Nn=t=>{n.currentSceneSentenceList.splice(t,1),c.set("writeScene",!c.get("writeScene"))},re=(t,a)=>{if(!(t===0&&a===-1||t===n.currentSceneSentenceList.length-1&&a===1)){{const d=n.currentSceneSentenceList[t];n.currentSceneSentenceList.splice(t,1),n.currentSceneSentenceList.splice(t+a,0,d)}c.set("writeScene",!c.get("writeScene"))}},ue=t=>i("div",{className:x.addSentencePanel,children:[i("div",{className:x.addSentenceButton,onClick:()=>{w("dialog",t.index)},children:[e(Z,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u6DFB\u52A0\u5BF9\u8BDD"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("changeP",t.index)},children:[e(M,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u5207\u6362\u7ACB\u7ED8"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("bg",t.index)},children:[e(q,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u5207\u6362\u80CC\u666F"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("changeScene",t.index)},children:[e(ee,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u573A\u666F\u8DF3\u8F6C"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("choose",t.index)},children:[e(te,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u5206\u652F\u9009\u62E9"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("bgm",t.index)},children:[e(j,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u80CC\u666F\u97F3\u4E50"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("video",t.index)},children:[e($,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u63D2\u5165\u89C6\u9891"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("intro",t.index)},children:[e(ne,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u9ED1\u5C4F\u6587\u5B57"]})]}),P=t=>i("div",{className:s.sentenceButtonList,children:[i("div",{className:s.sentenceButton,onClick:()=>{Nn(t.index)},children:[e(we,{theme:"outline",size:"14",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u5220\u9664\u672C\u53E5"]}),i("div",{onClick:()=>{re(t.index,-1)},className:s.sentenceButton,children:[e(Fe,{theme:"outline",size:"14",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u4E0A\u79FB\u672C\u53E5"]}),i("div",{onClick:()=>{re(t.index,1)},className:s.sentenceButton,children:[e(Ae,{theme:"outline",size:"14",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u4E0B\u79FB\u672C\u53E5"]}),i("div",{onClick:()=>{t.data.setShowAddPre(!t.data.showAddPre)},className:s.sentenceButton,children:[e(ie,{theme:"outline",size:"14",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u5728\u672C\u53E5\u524D\u63D2\u5165\u53E5\u5B50",t.data.showAddPre&&e(ue,{index:t.data.indexPre})]}),i("div",{onClick:()=>{t.data.setShowAddAfter(!t.data.showAddAfter)},className:s.sentenceButton,children:[e(ie,{theme:"outline",size:"14",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u5728\u672C\u53E5\u540E\u63D2\u5165\u53E5\u5B50",t.data.showAddAfter&&e(ue,{index:t.data.indexAfter})]})]}),xn=t=>{const[a,d]=l.exports.useState(!1),[g,o]=l.exports.useState(!1),r=t.index,S=t.index+1,m={showAddPre:a,setShowAddPre:d,showAddAfter:g,setShowAddAfter:o,indexPre:r,indexAfter:S};l.exports.useEffect(()=>{document.getElementById("speakerInput"+t.index).value=t.data.speaker,document.getElementById("contentInput"+t.index).value=t.data.content});const f=()=>{n.currentSceneSentenceList[t.index].speaker=document.getElementById("speakerInput"+t.index).value,n.currentSceneSentenceList[t.index].content=document.getElementById("contentInput"+t.index).value,c.set("writeScene",!c.get("writeScene"))},v=u=>{n.currentSceneSentenceList[t.index].ignoreSpeaker=u,c.set("writeScene",!c.get("writeScene"))},[N,p]=l.exports.useState(t.data.vocal),_=()=>u=>{n.currentSceneSentenceList[t.index].vocal=u,c.set("writeScene",!c.get("writeScene"))};return i("div",{className:s.sentence,children:[i("div",{className:s.topContainer,children:[e("div",{className:s.sentenceIndexShow,children:"\u57FA\u672C\u5BF9\u8BDD"}),e("div",{className:s.barContainer,children:e(P,{index:t.index,data:m})})]}),i("main",{className:s.mainEdit,children:[i("div",{className:s.singleOption,children:["\u89D2\u8272\uFF1A",e("input",{className:s.dialog_input,onBlur:f,id:"speakerInput"+t.index}),e("span",{style:{padding:"0 0 0 5px"},children:"\u63D0\u793A\uFF1A\u7559\u7A7A\u53EF\u4EE5\u7EE7\u627F\u4E0A\u4E00\u6761\u5BF9\u8BDD\u7684\u89D2\u8272\u540D"})]}),i("div",{className:s.singleOption,children:["\u5BF9\u8BDD\uFF1A",e("input",{className:s.dialog_input,onBlur:f,id:"contentInput"+t.index})]}),i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u65C1\u767D\u6A21\u5F0F"}),i("span",{className:s.optionContent,children:[e(y,{size:"small",id:"dialog_pbms",checked:t.data.ignoreSpeaker,onChange:v}),"\uFF08\u5C06\u4E0D\u4F1A\u663E\u793A\u89D2\u8272\u540D\uFF09"]}),e("div",{className:s.optionTitle,children:"\u914D\u97F3\u6587\u4EF6"}),e(D,{setShow:p,id:"vocalPicker",dir:"vocal",set:_()}),e("span",{className:s.optionContent,children:N})]})]})]},t.index+"dialog")},Cn=t=>{const[a,d]=l.exports.useState(!1),[g,o]=l.exports.useState(!1),r=t.index,S=t.index+1,m={showAddPre:a,setShowAddPre:d,showAddAfter:g,setShowAddAfter:o,indexPre:r,indexAfter:S};l.exports.useEffect(()=>{});const f=u=>{n.currentSceneSentenceList[t.index].noBg=u,c.set("writeScene",!c.get("writeScene"))},v=u=>{n.currentSceneSentenceList[t.index].next=u,c.set("writeScene",!c.get("writeScene"))},[N,p]=l.exports.useState(t.data.bg),_=()=>u=>{n.currentSceneSentenceList[t.index].bg=u,c.set("writeScene",!c.get("writeScene"))};return i("div",{className:s.sentence,children:[i("div",{className:s.topContainer,children:[e("div",{className:s.sentenceIndexShow,children:"\u66F4\u6539\u80CC\u666F"}),e("div",{className:s.barContainer,children:e(P,{index:t.index,data:m})})]}),i("main",{className:s.mainEdit,children:[i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u5173\u95ED\u80CC\u666F"}),i("span",{className:s.optionContent,children:[e(y,{size:"small",checked:t.data.noBg,id:"bg_none"+t.index,onChange:f}),"\uFF08\u5C06\u5173\u95ED\u80CC\u666F\uFF09"]}),e("span",{className:s.optionTitle,children:"\u66F4\u6539\u80CC\u666F\u540E\u7EE7\u7EED\u4E0B\u4E00\u53E5"}),e("span",{className:s.optionContent,children:e(y,{size:"small",id:"bg_next"+t.index,checked:t.data.next,onChange:v})})]}),i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u80CC\u666F\u6587\u4EF6"}),e(D,{setShow:p,id:"bgPicker",dir:"background",set:_()}),e("span",{className:s.optionContent,children:N})]})]})]},t.index+"bg")},Bn=t=>{const[a,d]=l.exports.useState(!1),[g,o]=l.exports.useState(!1),r=t.index,S=t.index+1,m={showAddPre:a,setShowAddPre:d,showAddAfter:g,setShowAddAfter:o,indexPre:r,indexAfter:S};l.exports.useEffect(()=>{});const f=_=>{n.currentSceneSentenceList[t.index].noBgm=_,c.set("writeScene",!c.get("writeScene"))},[v,N]=l.exports.useState(t.data.bgm),p=()=>_=>{n.currentSceneSentenceList[t.index].bgm=_,c.set("writeScene",!c.get("writeScene"))};return i("div",{className:s.sentence,children:[i("div",{className:s.topContainer,children:[e("div",{className:s.sentenceIndexShow,children:"\u66F4\u6539\u97F3\u4E50"}),e("div",{className:s.barContainer,children:e(P,{index:t.index,data:m})})]}),i("main",{className:s.mainEdit,children:[i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u5173\u95ED\u80CC\u666F\u97F3\u4E50"}),i("span",{className:s.optionContent,children:[e(y,{size:"small",id:"bgm_none"+t.index,checked:t.data.noBgm,onChange:f}),"\uFF08\u5C06\u5173\u95ED\u80CC\u666F\u97F3\u4E50\uFF09"]})]}),i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u80CC\u666F\u97F3\u4E50\u6587\u4EF6"}),e(D,{setShow:N,id:"bgmPicker",dir:"bgm",set:p()}),e("span",{className:s.optionContent,children:v})]})]})]},t.index+"bgm")},En=t=>{const[a,d]=l.exports.useState(!1),[g,o]=l.exports.useState(!1),r=t.index,S=t.index+1,m={showAddPre:a,setShowAddPre:d,showAddAfter:g,setShowAddAfter:o,indexPre:r,indexAfter:S};l.exports.useEffect(()=>{});const[f,v]=l.exports.useState(t.data.newScene),N=()=>p=>{n.currentSceneSentenceList[t.index].newScene=p,c.set("writeScene",!c.get("writeScene"))};return i("div",{className:s.sentence,children:[i("div",{className:s.topContainer,children:[e("div",{className:s.sentenceIndexShow,children:"\u5207\u6362\u573A\u666F"}),e("div",{className:s.barContainer,children:e(P,{index:t.index,data:m})})]}),e("main",{className:s.mainEdit,children:i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u65B0\u573A\u666F"}),e(D,{setShow:v,id:"scenePicker",dir:"scene",set:N()}),e("span",{className:s.optionContent,children:f})]})})]},t.index+"scene")},wn=t=>{const[a,d]=l.exports.useState(!1),[g,o]=l.exports.useState(!1),r=t.index,S=t.index+1,m={showAddPre:a,setShowAddPre:d,showAddAfter:g,setShowAddAfter:o,indexPre:r,indexAfter:S};l.exports.useEffect(()=>{});const[f,v]=l.exports.useState(t.data.video),N=()=>p=>{n.currentSceneSentenceList[t.index].video=p,c.set("writeScene",!c.get("writeScene"))};return i("div",{className:s.sentence,children:[i("div",{className:s.topContainer,children:[e("div",{className:s.sentenceIndexShow,children:"\u64AD\u653E\u89C6\u9891"}),e("div",{className:s.barContainer,children:e(P,{index:t.index,data:m})})]}),e("main",{className:s.mainEdit,children:i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u89C6\u9891\u6587\u4EF6"}),e(D,{setShow:v,id:"videoPicker",dir:"video",set:N()}),e("span",{className:s.optionContent,children:f})]})})]},t.index+"scene")},{Option:J}=se,Fn=t=>{const[a,d]=l.exports.useState(!1),[g,o]=l.exports.useState(!1),r=t.index,S=t.index+1,m={showAddPre:a,setShowAddPre:d,showAddAfter:g,setShowAddAfter:o,indexPre:r,indexAfter:S};l.exports.useEffect(()=>{});const f=h=>{n.currentSceneSentenceList[t.index].noP=h,c.set("writeScene",!c.get("writeScene"))},v=h=>{n.currentSceneSentenceList[t.index].next=h,c.set("writeScene",!c.get("writeScene"))},[N,p]=l.exports.useState(t.data.newP),_=()=>h=>{n.currentSceneSentenceList[t.index].newP=h,c.set("writeScene",!c.get("writeScene"))},u=h=>{n.currentSceneSentenceList[t.index].pos=h,c.set("writeScene",!c.get("writeScene"))};return i("div",{className:s.sentence,children:[i("div",{className:s.topContainer,children:[e("div",{className:s.sentenceIndexShow,children:"\u5207\u6362\u7ACB\u7ED8"}),e("div",{className:s.barContainer,children:e(P,{index:t.index,data:m})})]}),i("main",{className:s.mainEdit,children:[i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u5173\u95ED\u7ACB\u7ED8"}),e("span",{className:s.optionContent,children:e(y,{size:"small",id:"p_none",checked:t.data.noP,onChange:f})}),e("span",{className:s.optionContent,children:"\uFF08\u5C06\u5173\u95ED\u7ACB\u7ED8\uFF09"}),e("span",{className:s.optionTitle,children:"\u7ACB\u7ED8\u4F4D\u7F6E"}),i(se,{size:"small",defaultValue:t.data.pos,style:{width:120},onChange:u,children:[e(J,{value:"left",children:"\u5DE6"}),e(J,{value:"",children:"\u4E2D"}),e(J,{value:"right",children:"\u53F3"})]}),e("span",{className:s.optionContent,children:"\uFF08\u6539\u53D8\u7ACB\u7ED8\u7684\u4F4D\u7F6E\uFF09"})]}),i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u5207\u6362\u540E\u6267\u884C\u4E0B\u4E00\u6761\u8BED\u53E5"}),e("span",{className:s.optionContent,children:e(y,{size:"small",id:"p_none",checked:t.data.next,onChange:v})})]}),i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u7ACB\u7ED8\u6587\u4EF6"}),e(D,{setShow:p,id:"pPicker",dir:"figure",set:_()}),e("span",{className:s.optionContent,children:N})]})]})]},t.index+"dialog")},An=t=>{const[a,d]=l.exports.useState(!1),[g,o]=l.exports.useState(!1),r=t.index,S=t.index+1,m={showAddPre:a,setShowAddPre:d,showAddAfter:g,setShowAddAfter:o,indexPre:r,indexAfter:S};l.exports.useEffect(()=>{for(let u=0;u<t.data.chooseItem.length;u++)document.getElementById("chooseInput"+t.index+"itemIndex"+u).value=t.data.chooseItem[u].text});const f=()=>{n.currentSceneSentenceList[t.index].chooseItem.push({text:"\u5728\u6B64\u586B\u5165\u5206\u652F\u7684\u540D\u79F0",scene:""}),c.set("writeScene",!c.get("writeScene"))},v=u=>{const h=parseInt(u.split("Index")[1]);console.log(h),n.currentSceneSentenceList[t.index].chooseItem[h].text=document.getElementById(u).value,c.set("writeScene",!c.get("writeScene"))},N=u=>h=>{n.currentSceneSentenceList[t.index].chooseItem[u].scene=h,c.set("writeScene",!c.get("writeScene"))};let p=[],_=0;for(const u of t.data.chooseItem){const h="chooseInput"+t.index+"itemIndex"+_;let B=i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u5206\u652F\u540D\u79F0"}),e("input",{className:s.dialog_input,style:{width:"200px"},onBlur:()=>{v(h)},id:h}),e("span",{className:s.optionContent,children:e(ke,{theme:"outline",size:"24",fill:"#333"})}),e("span",{className:s.optionTitle,children:"\u8DF3\u8F6C\u7684\u573A\u666F"}),e(D,{id:"scenePicker",dir:"scene",set:N(_)}),e("span",{className:s.optionContent,children:u.scene})]},_);p.push(B),_++}return i("div",{className:s.sentence,children:[i("div",{className:s.topContainer,children:[e("div",{className:s.sentenceIndexShow,children:"\u5206\u652F\u9009\u62E9"}),e("div",{className:s.barContainer,children:e(P,{index:t.index,data:m})})]}),i("main",{className:s.mainEdit,children:[e("div",{style:{display:"flex",padding:"5px 0 0 0"},children:i("div",{onClick:f,className:s.sentenceButton,children:[e(ae,{theme:"outline",size:"16",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u6DFB\u52A0\u5206\u652F"]})}),p]})]},t.index+"choose")},kn=t=>{const[a,d]=l.exports.useState(!1),[g,o]=l.exports.useState(!1),r=t.index,S=t.index+1,m={showAddPre:a,setShowAddPre:d,showAddAfter:g,setShowAddAfter:o,indexPre:r,indexAfter:S};l.exports.useEffect(()=>{for(let _=0;_<t.data.content.length;_++)document.getElementById("introInput"+t.index+"itemIndex"+_).value=t.data.content[_]});const f=()=>{n.currentSceneSentenceList[t.index].content.push("\u5728\u6B64\u586B\u5165\u8981\u5C55\u793A\u7684\u6587\u5B57"),c.set("writeScene",!c.get("writeScene"))},v=_=>{const u=parseInt(_.split("Index")[1]);console.log(u),n.currentSceneSentenceList[t.index].content[u]=document.getElementById(_).value,c.set("writeScene",!c.get("writeScene"))};let N=[],p=0;for(const _ of t.data.content){const u="introInput"+t.index+"itemIndex"+p;let h=i("div",{className:s.singleOption,children:[e("span",{className:s.optionTitle,children:"\u663E\u793A\u6587\u5B57"}),e("input",{className:s.dialog_input,style:{width:"200px"},onBlur:()=>{v(u)},id:u})]},p);N.push(h),p++}return i("div",{className:s.sentence,children:[i("div",{className:s.topContainer,children:[e("div",{className:s.sentenceIndexShow,children:"\u9ED1\u5C4F\u6587\u5B57"}),e("div",{className:s.barContainer,children:e(P,{index:t.index,data:m})})]}),i("main",{className:s.mainEdit,children:[e("div",{style:{display:"flex",padding:"5px 0 0 0"},children:i("div",{onClick:f,className:s.sentenceButton,children:[e(ae,{theme:"outline",size:"16",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u6DFB\u52A0\u6587\u5B57"]})}),N]})]},t.index+"intro")},In=(t,a)=>{let d;switch(t.type){case"dialog":d=e(xn,{data:t,index:a},a);break;case"bg":d=e(Cn,{data:t,index:a},a);break;case"bgm":d=e(Bn,{data:t,index:a},a);break;case"changeScene":d=e(En,{data:t,index:a},a);break;case"video":d=e(wn,{data:t,index:a},a);break;case"changeP":d=e(Fn,{data:t,index:a},a);break;case"choose":d=e(An,{data:t,index:a},a);break;case"intro":d=e(kn,{data:t,index:a},a);break}return d};const Dn=(t,a,d)=>setTimeout(()=>{const g=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:a}),o=document.getElementById(t);o!==null&&o.dispatchEvent(g)},d),bn=t=>{const[a,d]=l.exports.useState(!0),[g,o]=l.exports.useState(!1);l.exports.useEffect(()=>{c.set("updateScene",a),c.connect("updateScene",()=>{d(c.get("updateScene"))},"updateSceneFunc"),c.set("refScene",!0),c.connect("refScene",()=>{K()},"refSceneFunc"),c.get("writeScene")===void 0&&c.set("writeScene",!0),c.connect("writeScene",()=>{X()},"writeSceneFunc"),K(),n.sceneScrollTop.hasOwnProperty(n.currentEditScene)&&setTimeout(()=>{document.getElementById("currentSentenceList").scrollTop=n.sceneScrollTop[n.currentEditScene]},0)},[]);let r=[];const S=JSON.parse(JSON.stringify(n.currentSceneSentenceList));for(let f=0;f<S.length;f++){const v=S[f],N=In(v,f),p=i("div",{className:x.sentence,children:[e("div",{className:x.lineNumber,children:f+1}),e("div",{className:x.sentenceMain,children:N})]},"sentence"+f);r.push(p)}const m=i("div",{className:x.addSentencePanel,children:[i("div",{className:x.addSentenceButton,onClick:()=>{w("dialog"),o(!1)},children:[e(Z,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u6DFB\u52A0\u5BF9\u8BDD"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("changeP"),o(!1)},children:[e(M,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u5207\u6362\u7ACB\u7ED8"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("bg"),o(!1)},children:[e(q,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u5207\u6362\u80CC\u666F"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("changeScene"),o(!1)},children:[e(ee,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u573A\u666F\u8DF3\u8F6C"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("choose"),o(!1)},children:[e(te,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u5206\u652F\u9009\u62E9"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("bgm"),o(!1)},children:[e(j,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u80CC\u666F\u97F3\u4E50"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("video"),o(!1)},children:[e($,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u63D2\u5165\u89C6\u9891"]}),i("div",{className:x.addSentenceButton,onClick:()=>{w("intro"),o(!1)},children:[e(ne,{theme:"outline",size:"18",fill:"#333",style:{padding:"0 5px 0 0"}}),"\u9ED1\u5C4F\u6587\u5B57"]})]});return i("div",{children:[i("div",{className:x.topButtonList,children:[e("div",{className:x.topButton,onClick:X,children:"\u4FDD\u5B58\u573A\u666F"}),e("div",{className:x.topButton,onClick:()=>{o(!g)},children:"\u6DFB\u52A0\u8BED\u53E5"}),e("div",{children:g&&m})]}),e("div",{className:x.sentenceList,id:"currentSentenceList",children:r})]})};function K(){let t=n.currentEditScene;if(t==="")return;const a=`${n.domain}/Games/${n.currentEditGame}/game/scene/${t}`;k.get(a).then(d=>{n.currentSceneSentenceList=d.data,c.set("updateScene",!c.get("updateScene")),n.isRealtimeRefreashPreview&&Dn("refPreviewButton",0,0)}).catch(d=>console.log(d))}function w(t,a){const d=on(t);a!==void 0?n.currentSceneSentenceList.splice(a,0,d):n.currentSceneSentenceList.push(d),X()}function X(){const t=`${n.domain}/api/editGame/editScene/`,a={gameName:n.currentEditGame,sceneName:n.currentEditScene,sceneData:n.currentSceneSentenceList};k.post(t,a).then(d=>{K()}).catch(d=>console.log(d))}const Pn=()=>{const[t,a]=l.exports.useState(!1);l.exports.useEffect(()=>{c.set("updateEditor",t),c.connect("updateEditor",()=>{a(c.get("updateEditor")),c.set("refScene",!c.get("refScene"))},"updateEditorFunc")},[]);const d=r=>{V(),n.currentEditScene=r,c.set("updateEditor",!c.get("updateEditor")),c.set("refScene",!c.get("refScene"))},g=r=>{V();const S=n.currentOpendSceneEdit.indexOf(r);n.currentOpendSceneEdit.splice(S,1);const m=n.currentOpendSceneEdit.length===0;r===n.currentEditScene&&(m?n.currentEditScene="":n.currentOpendSceneEdit.length<=S?n.currentEditScene=n.currentOpendSceneEdit[n.currentOpendSceneEdit.length-1]:n.currentEditScene=n.currentOpendSceneEdit[S]),c.set("updateEditor",!c.get("updateEditor"))},o=[];for(const r of n.currentOpendSceneEdit){let S;r===n.currentEditScene?S=i("div",{className:b.tagOpened,children:[e(R,{theme:"outline",size:"20",fill:"#333",className:b.tagIcon}),r,e(ce,{theme:"outline",size:"20",fill:"#333",className:b.closeIcon,onClick:()=>{g(r)}})]},r):S=i("div",{className:b.tag,onClick:()=>{d(r)},children:[e(R,{theme:"outline",size:"20",fill:"#333",className:b.tagIcon}),r,e(ce,{theme:"outline",size:"20",fill:"#333",className:b.tagIcon,onClick:m=>{m.preventDefault(),m.stopPropagation(),g(r)}})]},r),o.push(S)}return i("div",{className:b.main,children:[e("div",{className:b.tagList,children:o}),e("div",{children:n.currentEditScene!==""&&e(bn,{sceneName:n.currentEditScene},n.currentEditScene)})]})},yn=()=>{const[t,a]=l.exports.useState(!0);return l.exports.useEffect(()=>{c.set("updateEditor",!0),c.connect("updateEditor",()=>{a(c.get("updateEditor"))},"ForceUpdateEditor")},[]),i("div",{children:[e(Ke,{}),i("main",{className:Ut.main,children:[e(qt,{}),e(Pn,{})]})]})};function Ln(){const[t,a]=l.exports.useState(!0);return l.exports.useEffect(()=>{c.set("isManageMent",!0),c.connect("isManagement",()=>{a(c.get("isManagement"))},"setIsManagementFunc")},[]),i("div",{className:"App",children:[t&&e(Ue,{}),!t&&e(yn,{})]})}Ie.render(e(De.StrictMode,{children:e(Ln,{})}),document.getElementById("root"));
